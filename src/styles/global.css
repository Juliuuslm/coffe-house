/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
  html {
    @apply scroll-smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }

  body {
    @apply font-secondary bg-white;
    color: #6E777D;
    overflow-x: hidden;
    width: 100%;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-primary text-heading font-medium;
  }

  /* Ensure headings inside text-white containers are white */
  .text-white h1,
  .text-white h2,
  .text-white h3,
  .text-white h4,
  .text-white h5,
  .text-white h6 {
    color: white !important;
  }

  h1 {
    @apply text-h1;
  }

  h2 {
    @apply text-h2;
  }

  h3 {
    @apply text-h3;
  }

  h4 {
    @apply text-h4;
  }

  h5 {
    @apply text-h5;
  }

  h6 {
    @apply text-h6;
  }

  p {
    @apply mb-4 leading-relaxed;
  }

  a {
    @apply transition-colors duration-300;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:ring-offset-2 rounded-sm;
  }

  button {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:ring-offset-2;
  }

  input, textarea, select {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:border-primary transition-all duration-200;
  }

  img {
    @apply max-w-full h-auto;
  }
}

/* Custom utilities */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-primary-600 bg-clip-text text-transparent;
  }

  .bg-gradient-primary {
    @apply bg-gradient-to-br from-primary to-primary-700;
  }

  .shadow-primary {
    box-shadow: 0 10px 40px rgba(221, 89, 3, 0.2);
  }

  .overlay-dark {
    @apply relative;
  }

  .overlay-dark::before {
    @apply absolute inset-0 bg-black/50 z-0;
    content: '';
  }

  .overlay-gradient {
    @apply relative;
  }

  .overlay-gradient::before {
    @apply absolute inset-0 z-0;
    content: '';
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.3) 100%);
  }
}

/* Dark mode variables */
.dark {
  --color-body: #A8B0B6;
  --color-heading: #FFFFFF;
}

.dark body {
  @apply bg-secondary-900 text-gray-300;
}

.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6 {
  @apply text-white;
}

/* Smooth scroll behavior with Lenis */
html.lenis {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-600;
}

/* Selection */
::selection {
  @apply bg-primary text-white;
}

::-moz-selection {
  @apply bg-primary text-white;
}

/* Markdown/Prose Styles */
@layer components {
  .prose {
    @apply text-body leading-relaxed;
    max-width: 100%;
  }

  .prose h1 {
    @apply text-4xl md:text-5xl font-primary font-bold text-heading mt-12 mb-6 first:mt-0;
  }

  .prose h2 {
    @apply text-3xl md:text-4xl font-primary font-bold text-heading mt-10 mb-5;
  }

  .prose h3 {
    @apply text-2xl md:text-3xl font-primary font-bold text-heading mt-8 mb-4;
  }

  .prose h4 {
    @apply text-xl md:text-2xl font-primary font-semibold text-heading mt-6 mb-3;
  }

  .prose h5 {
    @apply text-lg md:text-xl font-primary font-semibold text-heading mt-6 mb-3;
  }

  .prose h6 {
    @apply text-base md:text-lg font-primary font-semibold text-heading mt-6 mb-3;
  }

  .prose p {
    @apply mb-6 text-base md:text-lg leading-relaxed;
  }

  .prose strong {
    @apply font-bold text-heading;
  }

  .prose em {
    @apply italic;
  }

  .prose ul,
  .prose ol {
    @apply mb-6 ml-6 space-y-2;
  }

  .prose ul {
    @apply list-disc;
  }

  .prose ol {
    @apply list-decimal;
  }

  .prose li {
    @apply text-base md:text-lg leading-relaxed;
    @apply pl-2;
  }

  .prose li > p {
    @apply mb-2;
  }

  .prose a {
    @apply text-primary font-semibold hover:text-primary-600 underline underline-offset-2;
  }

  .prose blockquote {
    @apply border-l-4 border-primary bg-gray-50 pl-6 pr-4 py-4 my-6 italic text-lg;
  }

  .prose blockquote p {
    @apply mb-2 last:mb-0;
  }

  .prose code {
    @apply bg-gray-100 text-primary px-2 py-1 rounded text-sm font-mono;
  }

  .prose pre {
    @apply bg-gray-900 text-gray-100 rounded-xl p-6 my-6 overflow-x-auto;
  }

  .prose pre code {
    @apply bg-transparent text-gray-100 p-0 text-sm;
  }

  .prose img {
    @apply rounded-xl my-8 shadow-lg w-full;
  }

  .prose hr {
    @apply border-gray-200 my-12;
  }

  .prose table {
    @apply w-full my-8 border-collapse;
  }

  .prose thead {
    @apply bg-gray-50;
  }

  .prose th {
    @apply border border-gray-200 px-4 py-3 text-left font-semibold text-heading;
  }

  .prose td {
    @apply border border-gray-200 px-4 py-3;
  }

  .prose tbody tr:nth-child(even) {
    @apply bg-gray-50/50;
  }

  /* Larger prose variant */
  .prose-lg h1 {
    @apply text-5xl md:text-6xl;
  }

  .prose-lg h2 {
    @apply text-4xl md:text-5xl;
  }

  .prose-lg h3 {
    @apply text-3xl md:text-4xl;
  }

  .prose-lg p,
  .prose-lg li {
    @apply text-lg md:text-xl;
  }
}

/* Syntax Highlighting - GitHub Dark Theme */
@layer base {
  /* Highlight.js GitHub Dark theme */
  .hljs {
    display: block;
    overflow-x: auto;
    padding: 1.5em;
    background: #0d1117;
    color: #c9d1d9;
  }

  .hljs-doctag,
  .hljs-keyword,
  .hljs-meta .hljs-keyword,
  .hljs-template-tag,
  .hljs-template-variable,
  .hljs-type,
  .hljs-variable.language_ {
    color: #ff7b72;
  }

  .hljs-title,
  .hljs-title.class_,
  .hljs-title.class_.inherited__,
  .hljs-title.function_ {
    color: #d2a8ff;
  }

  .hljs-attr,
  .hljs-attribute,
  .hljs-literal,
  .hljs-meta,
  .hljs-number,
  .hljs-operator,
  .hljs-variable,
  .hljs-selector-attr,
  .hljs-selector-class,
  .hljs-selector-id {
    color: #79c0ff;
  }

  .hljs-regexp,
  .hljs-string,
  .hljs-meta .hljs-string {
    color: #a5d6ff;
  }

  .hljs-built_in,
  .hljs-symbol {
    color: #ffa657;
  }

  .hljs-comment,
  .hljs-code,
  .hljs-formula {
    color: #8b949e;
  }

  .hljs-name,
  .hljs-quote,
  .hljs-selector-tag,
  .hljs-selector-pseudo {
    color: #7ee787;
  }

  .hljs-subst {
    color: #c9d1d9;
  }

  .hljs-section {
    color: #1f6feb;
    font-weight: bold;
  }

  .hljs-bullet {
    color: #f2cc60;
  }

  .hljs-emphasis {
    color: #c9d1d9;
    font-style: italic;
  }

  .hljs-strong {
    color: #c9d1d9;
    font-weight: bold;
  }

  .hljs-addition {
    color: #aff5b4;
    background-color: #033a16;
  }

  .hljs-deletion {
    color: #ffdcd7;
    background-color: #67060c;
  }
}
